RewriteEngine On
RewriteBase /

# 1. Handle /admin/ specifically
# admin area is now a physical folder /admin/
# Visiting /admin (without slash) will be handled by directory redirect or our rules
RewriteRule ^admin$ /admin/ [L,R=301]

# 2. Redirect /index.php to /
RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /index\.php\ HTTP/
RewriteRule ^index\.php$ / [R=301,L]

# 3. Hide .php extension for other existing files
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.php -f
RewriteRule ^([^\.]+)$ $1.php [NC,L]