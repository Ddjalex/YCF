<?php
include 'header.php';
?>

<div class="hero-container" style="padding-top: 100px; min-height: auto; background: url('attached_assets/germany-0_1767641199459.jpg') center/cover no-repeat fixed;">
    <div style="background: rgba(45, 35, 110, 0.85); width: 100%; padding: 60px 20px; color: white; text-align: center;">
        <h1 class="montserrat" style="font-size: clamp(2rem, 5vw, 3.5rem); margin-bottom: 20px;">Youth Development Forum 2026<br>Fully/Partially Funded Application</h1>
        <div style="background: #FFD700; color: #2D236E; display: inline-block; padding: 15px 30px; border-radius: 10px; font-weight: 800; font-size: 1.1rem; max-width: 800px;">
            Apply Once To Be Considered For Both Fully Funded And Partially Funded Seats - No Separate Applications Required.
        </div>
    </div>
</div>

<div style="max-width: 1100px; margin: 0 auto; padding: 60px 20px;">
    <div id="intro-section" style="display: flex; flex-wrap: wrap; gap: 40px; align-items: flex-start;">
        <div style="flex: 1; min-width: 300px;">
            <h2 class="montserrat" style="font-size: 2.5rem; color: #2D236E; margin-bottom: 20px;">Ready to Lead the Future?<br>Berlin 2026 Is Calling</h2>
            <p style="font-size: 1.1rem; line-height: 1.8; color: #444; margin-bottom: 20px;">
                You're just a few clicks away from your chance to join (<strong>Fully Funded/Partially Funded</strong>) one of the most exciting youth events of <strong>2026</strong>!
            </p>
            <p style="font-size: 1.1rem; line-height: 1.8; color: #444; margin-bottom: 20px;">
                From <strong>May 7‚Äì10, 2026, 200 young changemakers</strong> from across the globe will gather in <strong>Berlin, Germany</strong> for four unforgettable days of bold conversations, interactive learning, leadership development, and cultural experiences. Selection is <strong>merit-based</strong>, so bring your best ideas, passion, and story to the table.
            </p>
            <p style="font-size: 1.1rem; line-height: 1.8; color: #444; margin-bottom: 20px;">
                Your journey to the future starts here ‚Äî let your voice be heard!
            </p>
            <p style="font-size: 1.1rem; line-height: 1.8; color: #444;">
                The application form has three simple parts:<br>
                <strong>1. Basic details</strong><br>
                <strong>2. Personal Details & Motivation</strong><br>
                <strong>3. Application Fee</strong>
            </p>
            
            <div style="display: flex; gap: 20px; margin-top: 40px; flex-wrap: wrap;">
                <div style="background: #2D236E; color: white; padding: 20px; border-radius: 12px; flex: 1; min-width: 200px; display: flex; align-items: center; gap: 15px;">
                    <div style="font-size: 2rem;">üìç</div>
                    <div>
                        <div style="font-size: 0.8rem; opacity: 0.8;">Event Location</div>
                        <div style="font-weight: 700; font-size: 1.2rem;">Berlin Germany</div>
                    </div>
                </div>
                <div style="background: #2D236E; color: white; padding: 20px; border-radius: 12px; flex: 1; min-width: 200px; display: flex; align-items: center; gap: 15px;">
                    <div style="font-size: 2rem;">üìÖ</div>
                    <div>
                        <div style="font-size: 0.8rem; opacity: 0.8;">Event Dates</div>
                        <div style="font-weight: 700; font-size: 1.2rem;">7‚Äì10 May 2026</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div style="flex: 1; min-width: 300px; text-align: center;">
            <div style="background: #eee; border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
                 <img src="attached_assets/stock_images/cryptocurrency_block_a66cf05b.jpg" style="width: 100%; height: auto; display: block;">
            </div>
        </div>
    </div>

    <div style="margin-top: 80px; background: white; border-radius: 20px; padding: 40px; box-shadow: 0 15px 50px rgba(0,0,0,0.05); border: 1px solid #eee;">
        <h2 class="montserrat" style="font-size: 2rem; color: #2D236E; margin-bottom: 10px;">YDF Funded Category Registration</h2>
        <p style="color: #666; margin-bottom: 15px;">Please note that your information interacts with our server as you enter it.</p>
        
        <!-- Step 1 View -->
        <div id="step1">
            <div style="margin-bottom: 40px;">
                <div style="font-size: 0.9rem; color: #888; margin-bottom: 10px;">Step 1 of 3</div>
                <div style="height: 6px; background: #eee; border-radius: 3px; overflow: hidden;">
                    <div style="width: 33%; height: 100%; background: #FFD700;"></div>
                </div>
            </div>

            <h3 class="montserrat" style="font-size: 1.8rem; color: #2D236E; margin-bottom: 30px; border-bottom: 2px solid #FFD700; display: inline-block; padding-bottom: 5px;">Basic Details</h3>

            <div class="form-step-container">
                <div style="display: flex; gap: 20px; flex-wrap: wrap; margin-bottom: 30px;">
                    <div style="flex: 1; min-width: 250px;">
                        <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #444;">First Name <span style="color: red;">(Required)</span></label>
                        <input type="text" id="reg_first_name" placeholder="First" required style="width: 100%; padding: 15px; border: 1px solid #ddd; border-radius: 8px; outline: none; background: #f9f9fb;">
                    </div>
                    <div style="flex: 1; min-width: 250px;">
                        <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #444;">Last Name <span style="color: red;">(Required)</span></label>
                        <input type="text" id="reg_last_name" placeholder="Last" required style="width: 100%; padding: 15px; border: 1px solid #ddd; border-radius: 8px; outline: none; background: #f9f9fb;">
                    </div>
                </div>

                <div style="margin-bottom: 30px;">
                    <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #444;">Nationality <span style="color: red;">(Required)</span></label>
                    <input type="text" id="reg_nationality" placeholder="e.g USA, UK, UAE" required style="width: 100%; padding: 15px; border: 1px solid #ddd; border-radius: 8px; outline: none; background: #f9f9fb;">
                </div>

                <div style="margin-bottom: 40px;">
                    <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #444;">Email <span style="color: red;">(Required)</span></label>
                    <input type="email" id="reg_email" required style="width: 100%; padding: 15px; border: 1px solid #ddd; border-radius: 8px; outline: none; background: #f9f9fb;">
                </div>

                <div style="display: flex; justify-content: flex-start;">
                    <button type="button" onclick="nextStep(2)" class="btn-apply-special" style="width: 200px; padding: 15px;">NEXT</button>
                </div>
            </div>
        </div>

        <!-- Step 2 View (Hidden by default) -->
        <div id="step2" style="display: none;">
            <div style="margin-bottom: 40px;">
                <div style="font-size: 0.9rem; color: #888; margin-bottom: 10px;">Step 2 of 3</div>
                <div style="height: 6px; background: #eee; border-radius: 3px; overflow: hidden;">
                    <div style="width: 66%; height: 100%; background: #FFD700;"></div>
                </div>
            </div>

            <h3 class="montserrat" style="font-size: 1.8rem; color: #2D236E; margin-bottom: 30px; border-bottom: 2px solid #FFD700; display: inline-block; padding-bottom: 5px;">Personal Details and Motivation</h3>

            <div class="form-step-container">
                <div style="margin-bottom: 30px;">
                    <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #444;">Gender <span style="color: red;">(Required)</span></label>
                    <select id="reg_gender" required style="width: 100%; padding: 15px; border: 1px solid #ddd; border-radius: 8px; outline: none; background: #f9f9fb;">
                        <option value="">Select Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                        <option value="Prefer not to say">Prefer not to say</option>
                    </select>
                </div>

                <div style="margin-bottom: 30px;">
                    <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #444;">Date of Birth <span style="color: red;">(Required)</span></label>
                    <input type="date" id="reg_dob" required style="width: 100%; max-width: 300px; padding: 15px; border: 1px solid #ddd; border-radius: 8px; outline: none; background: #f9f9fb;">
                </div>

                <div style="margin-bottom: 30px;">
                    <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #444;">Phone No (with Country Code) <span style="color: red;">(Required)</span></label>
                    <input type="text" id="reg_phone" required placeholder="+1234567890" style="width: 100%; padding: 15px; border: 1px solid #ddd; border-radius: 8px; outline: none; background: #f9f9fb;">
                    <small style="color: #888; display: block; margin-top: 5px;">Please input a valid international phone number</small>
                </div>

                <div style="margin-bottom: 30px;">
                    <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #444;">Profession <span style="color: red;">(Required)</span></label>
                    <input type="text" id="reg_profession" required style="width: 100%; padding: 15px; border: 1px solid #ddd; border-radius: 8px; outline: none; background: #f9f9fb;">
                </div>

                <div style="margin-bottom: 30px;">
                    <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #444;">Country of Residence <span style="color: red;">(Required)</span></label>
                    <input type="text" id="reg_residence" required style="width: 100%; padding: 15px; border: 1px solid #ddd; border-radius: 8px; outline: none; background: #f9f9fb;">
                </div>

                <div style="margin-bottom: 30px;">
                    <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #444;">Departure City <span style="color: red;">(Required)</span></label>
                    <input type="text" id="reg_departure" required style="width: 100%; padding: 15px; border: 1px solid #ddd; border-radius: 8px; outline: none; background: #f9f9fb;">
                </div>

                <div style="margin-bottom: 30px;">
                    <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #444;">Do you require a visa to travel to Germany? <span style="color: red;">(Required)</span></label>
                    <select id="reg_visa" required style="width: 100%; padding: 15px; border: 1px solid #ddd; border-radius: 8px; outline: none; background: #f9f9fb;">
                        <option value="">Select Option</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>

                <div style="margin-bottom: 40px;">
                    <label style="display: block; font-weight: 600; margin-bottom: 15px; color: #444;">How did you hear about YDF26? <span style="color: red;">(Required)</span></label>
                    <div class="source-options-container" style="display: flex; flex-direction: column; gap: 10px; padding: 15px; border-radius: 12px; transition: all 0.3s ease;">
                        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer; font-weight: 500;">
                            <input type="radio" name="source" value="CGDL Social media"> CGDL Social media
                        </label>
                        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer; font-weight: 500;">
                            <input type="radio" name="source" value="Opportunities Sharing Websites"> Opportunities Sharing Websites
                        </label>
                        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer; font-weight: 500;">
                            <input type="radio" name="source" value="Search Engines"> Search Engines
                        </label>
                        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer; font-weight: 500;">
                            <input type="radio" name="source" value="Facebook Ads/Instagram Ads"> Facebook Ads/Instagram Ads
                        </label>
                        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer; font-weight: 500;">
                            <input type="radio" name="source" value="Other"> Other
                        </label>
                    </div>
                </div>

                <div style="margin-bottom: 30px;">
                    <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #444;">Tell us about your journey so far. <span style="color: red;">(Required)</span></label>
                    <textarea id="reg_journey" required style="width: 100%; padding: 15px; border: 1px solid #ddd; border-radius: 8px; outline: none; background: #f9f9fb; min-height: 120px;"></textarea>
                </div>

                <div style="margin-bottom: 40px;">
                    <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #444;">Upload Your Profile Photo <span style="color: red;">(Required)</span></label>
                    <input type="file" id="reg_profile_photo" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px; outline: none; background: #f9f9fb;">
                </div>

                <div style="display: flex; justify-content: flex-start; gap: 20px;">
                    <button type="button" onclick="nextStep(1)" style="width: 200px; padding: 15px; background: #2D236E; color: white; border: none; border-radius: 8px; font-weight: 700; cursor: pointer; text-transform: uppercase;">Previous</button>
                    <button type="button" onclick="nextStep(3)" class="btn-apply-special" style="width: 200px; padding: 15px;">NEXT</button>
                </div>
            </div>
        </div>

        <!-- Step 3 View -->
        <div id="step3" style="display: none;">
            <div style="margin-bottom: 40px;">
                <div style="font-size: 0.9rem; color: #888; margin-bottom: 10px;">Step 3 of 3</div>
                <div style="height: 6px; background: #eee; border-radius: 3px; overflow: hidden;">
                    <div style="width: 100%; height: 100%; background: #FFD700;"></div>
                </div>
            </div>

            <h3 class="montserrat" style="font-size: 1.8rem; color: #2D236E; margin-bottom: 30px; border-bottom: 2px solid #FFD700; display: inline-block; padding-bottom: 5px;">Application Fee</h3>
            
            <p style="font-size: 1rem; line-height: 1.6; color: #444; margin-bottom: 30px;">
                Complete your application by submitting the application fee.
            </p>

            <h4 class="montserrat" style="font-size: 1.2rem; color: #2D236E; margin-bottom: 20px;">Billing Information</h4>
            <div style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; margin-bottom: 40px;">
                <table style="width: 100%; border-collapse: collapse; text-align: left;">
                    <tr style="background: #f9f9fb; font-weight: 800; font-size: 1.1rem; color: #2D236E;">
                        <td style="padding: 15px;">Total</td>
                        <td style="padding: 15px; text-align: right;">$19.99</td>
                    </tr>
                </table>
            </div>

            <div style="margin-bottom: 40px;">
                <h4 class="montserrat" style="font-size: 1.2rem; color: #2D236E; margin-bottom: 20px;">Payment Method</h4>
                <div style="display: flex; flex-direction: column; gap: 15px; border: 1px solid #ddd; border-radius: 12px; padding: 20px; background: #f9f9fb;">
                    <div style="border-bottom: 1px solid #eee;">
                        <label style="display: flex; align-items: center; gap: 15px; cursor: pointer; padding: 10px;">
                            <input type="radio" name="payment_method" value="crypto" onchange="toggleCryptoDetails(this.checked)" required>
                            <span style="font-weight: 600;">Cryptocurrency (BTC)</span>
                        </label>
                        <div id="crypto_details" style="display: none; padding: 20px; background: #fff; border: 1px solid #FFD700; border-radius: 8px; margin: 10px;">
                            <div style="text-align: center; margin-bottom: 20px;">
                                <?php $btc_address = get_admin_setting('btc_address', '1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa'); ?>
                                <p style="word-break: break-all; font-family: monospace;"><?php echo $btc_address; ?></p>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; font-weight: 600; margin-bottom: 8px;">Transaction ID (TXID) <span style="color: red;">(Required)</span></label>
                                <input type="text" id="transaction_id" placeholder="Enter TXID" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px;">
                            </div>
                            <div>
                                <label style="display: block; font-weight: 600; margin-bottom: 8px;">Screenshot <span style="color: red;">(Required)</span></label>
                                <input type="file" id="crypto_screenshot" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                            </div>
                        </div>
                    </div>
                </div>

                <div style="display: flex; justify-content: flex-start; gap: 20px; margin-top: 40px;">
                    <button type="button" onclick="nextStep(2)" style="width: 200px; padding: 15px; background: #2D236E; color: white; border: none; border-radius: 8px; font-weight: 700; cursor: pointer; text-transform: uppercase;">Previous</button>
                    <button type="button" onclick="handleFinalSubmit()" class="btn-apply-special" style="width: 200px; padding: 15px;">SUBMIT</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Professional Success Popup -->
<div id="successPopup" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; align-items: center; justify-content: center; backdrop-filter: blur(5px);">
    <div style="background: white; padding: 40px; border-radius: 20px; max-width: 500px; width: 90%; text-align: center; box-shadow: 0 20px 60px rgba(0,0,0,0.2); transform: scale(0.7); transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);">
        <div style="width: 80px; height: 80px; background: #4CAF50; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px;">
            <svg viewBox="0 0 24 24" style="width: 40px; height: 40px; fill: white;"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"></path></svg>
        </div>
        <h2 class="montserrat" style="color: #2D236E; margin-bottom: 15px;">Registration Successful!</h2>
        <p style="color: #666; line-height: 1.6; margin-bottom: 25px; font-size: 1.1rem;">
            Registration form and payment detail approval sent to registered email address.
        </p>
        <button onclick="window.location.href='index.php'" style="background: #2D236E; color: white; border: none; padding: 12px 30px; border-radius: 8px; font-weight: 700; cursor: pointer; width: 100%; font-size: 1rem; text-transform: uppercase;">Back to Home</button>
    </div>
</div>

<script>
function nextStep(step) {
    const currentStepNum = parseInt(document.querySelector('#step1:not([style*="display: none"]), #step2:not([style*="display: none"]), #step3:not([style*="display: none"])')?.id?.replace('step', '') || '1');
    
    if (step > currentStepNum) {
        let isValid = true;
        let currentView = document.getElementById('step' + currentStepNum);
        let inputs = currentView.querySelectorAll('input[required], select[required], textarea[required]');
        
        inputs.forEach(input => {
            let isFieldValid = true;
            if (input.type === 'file') {
                if (!input.files || !input.files.length) isFieldValid = false;
            } else if (input.tagName.toLowerCase() === 'select') {
                if (!input.value) isFieldValid = false;
            } else if (!input.value.trim()) {
                isFieldValid = false;
            }

            if (!isFieldValid) {
                isValid = false;
                input.style.borderColor = 'red';
                input.style.borderWidth = '2px';
            } else {
                input.style.borderColor = '#ddd';
                input.style.borderWidth = '1px';
            }
        });

        if (currentStepNum === 2) {
            let radioChecked = false;
            document.getElementsByName('source').forEach(r => { if(r.checked) radioChecked = true; });
            if (!radioChecked) {
                isValid = false;
                document.querySelector('.source-options-container').style.border = '2px solid red';
            } else {
                document.querySelector('.source-options-container').style.border = 'none';
            }
        }

        if (!isValid) return;
    }

    document.getElementById('step1').style.display = (step === 1) ? 'block' : 'none';
    document.getElementById('step2').style.display = (step === 2) ? 'block' : 'none';
    document.getElementById('step3').style.display = (step === 3) ? 'block' : 'none';
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

function toggleCryptoDetails(show) {
    document.getElementById('crypto_details').style.display = show ? 'block' : 'none';
}

function handleFinalSubmit() {
    const paymentMethod = document.querySelector('input[name="payment_method"]:checked');
    if (!paymentMethod) { alert('Please select a payment method.'); return; }

    const txid = document.getElementById('transaction_id');
    const screenshot = document.getElementById('crypto_screenshot');

    let isValid = true;
    if (!txid.value.trim()) { txid.style.borderColor = 'red'; isValid = false; }
    if (!screenshot.files.length) { screenshot.style.borderColor = 'red'; isValid = false; }

    if (!isValid) { alert('Transaction ID and Screenshot are required.'); return; }

    const popup = document.getElementById('successPopup');
    popup.style.display = 'flex';
    setTimeout(() => popup.querySelector('div').style.transform = 'scale(1)', 10);
}
</script>

<?php include 'footer.php'; ?>